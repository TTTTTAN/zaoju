(function(){var b=b||(function(){var n={};n.time=["汉武帝时期","解放前","上课时","月黑风高的晚上","刚才"];n.location=["洞庭湖","麻将馆","养生馆","大街上","路灯下"];n.person=["你","班主任","总统先生","一位路人","没有人"];n.event=["搓脚板","洗澡","为爱鼓掌","裸睡","捡肥皂"];var d=function(){return n};var l=function(o){n=o};var c=function(o){return n[o]};var j=function(){n={}};var h=[{type:"tag",value:"time"},{type:"text",value:"，"},{type:"tag",value:"person"},{type:"text",value:"在"},{type:"tag",value:"location"},{type:"tag",value:"event"},{type:"text",value:"。"},];var i=function(){return h};var g=function(o){h=o};var e=function(q,o){if(typeof q!=="string"||typeof o!=="string"){throw new TypeError("regWord的参数类型有误")}q=q.trim();if(q===""){throw new Error("诶内容呢？");return}o=o.trim().split(/[,，、]/);var p=0;while(p<o.length){if(o[p]===""){o.splice(p,1)}else{++p}}if(p===0){throw new Error("标签有问题呢~");return}if(!Array.isArray(o)){o=[o]}for(var p=0;p<o.length;++p){if(o[p]===""){continue}if(!(o[p] in n)){n[o[p]]=[]}n[o[p]].push(q)}};var k=function(r){try{var o=JSON.parse(r)}catch(q){throw new Error("语法似乎不太对呢~");return}if(!Array.isArray(o)){o=[o]}try{for(var p=0;p<o.length;++p){if(!("type" in o[p])||!("value" in o[p])){throw new Error("检查第"+p.toString()+"个元素中type或value的拼写")}else{if(typeof o[p].type!=="string"||o[p].type===""||typeof o[p].value!=="string"||o[p].value===""){throw new Error("第"+p.toString()+"个元素的属性值须为非空字符串")}}}}catch(q){throw q;return}h=o};var m=function(r){if(typeof r!=="string"){throw new Error("setPatternInSPN 参数须为字符串")}var p=[];r=r.trim();var o={type:"text",value:""};for(var q=0;q<r.length;++q){if(r[q]==="["){if(o.type==="tag"){o.value+="[";continue}p.push(o);o={type:"tag",value:""};continue}if(r[q]==="]"){if(o.type==="text"){o.value+="]";continue}p.push(o);o={type:"text",value:""};continue}if(r[q]==="\\"){o.value+=r[q+1];++q;continue}o.value+=r[q];continue}p.push(o);var q=0;while(q<p.length){if(p[q].value===""){p.splice(q,1)}else{++q}}h=p};var f=function(){var p="";for(var q=0;q<h.length;++q){switch(h[q].type){case"text":p+=h[q].value;break;case"tag":var o=n[h[q].value];if(Array.isArray(o)){p+=o[Math.floor(Math.random()*o.length)]}break}}return p};return{getDict:d,getWordWithTag:c,regWord:e,setDict:l,clearDict:j,getPattern:i,setPattern:g,setPatternInJSON:k,setPatternInSPN:m,genSentence:f,}}());var a=b;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=a}else{if(typeof define==="function"&&(define.amd||define.cmd)){define(function(){return a})}else{this.Zaoju=a}}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());
